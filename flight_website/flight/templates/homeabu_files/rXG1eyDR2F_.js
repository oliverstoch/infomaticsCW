if (self.CavalryLogger) { CavalryLogger.start_js(["bBYYF"]); }

__d("CometGenericUrlResharesDialog_link_preview.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometGenericUrlResharesDialog_link_preview",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"composer_post_confirmation_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{documentName:"CometGenericUrlResharesDialog_link_preview",fragmentName:"CometMisinformationLinkComposerConfirmationDialog_confirmationRenderer",fragmentPropName:"confirmationRenderer",kind:"ModuleImport"}],type:"MisinformationComposerPostConfirmationRenderer"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CometResharesSummary_link_preview"}],type:"LinkPreviewRoot"};e.exports=a}),null);
__d("CometResharesSummary_link_preview.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometResharesSummary_link_preview",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:["CometLinkPreviewSummaryEventRenderingStrategy","CometLinkPreviewSummaryExternalUrlRenderingStrategy","CometLinkPreviewSummaryStoryRenderingStrategy","CometLinkPreviewSummaryFallbackRenderingStrategy"]}],concreteType:null,kind:"LinkedField",name:"summary_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{documentName:"CometResharesSummary_link_preview",fragmentName:"CometLinkPreviewSummaryEventRenderingStrategy_summary_renderer",fragmentPropName:"summary_renderer",kind:"ModuleImport"}],type:"CometLinkPreviewSummaryEventRenderingStrategy"},{kind:"InlineFragment",selections:[{documentName:"CometResharesSummary_link_preview",fragmentName:"CometLinkPreviewSummaryExternalUrlRenderingStrategy_summary_renderer",fragmentPropName:"summary_renderer",kind:"ModuleImport"}],type:"CometLinkPreviewSummaryExternalUrlRenderingStrategy"},{kind:"InlineFragment",selections:[{documentName:"CometResharesSummary_link_preview",fragmentName:"CometLinkPreviewSummaryStoryRenderingStrategy_summary_renderer",fragmentPropName:"summary_renderer",kind:"ModuleImport"}],type:"CometLinkPreviewSummaryStoryRenderingStrategy"},{kind:"InlineFragment",selections:[{documentName:"CometResharesSummary_link_preview",fragmentName:"CometLinkPreviewSummaryFallbackRenderingStrategy_summary_renderer",fragmentPropName:"summary_renderer",kind:"ModuleImport"}],type:"CometLinkPreviewSummaryFallbackRenderingStrategy"}],storageKey:'summary_renderer(supported:["CometLinkPreviewSummaryEventRenderingStrategy","CometLinkPreviewSummaryExternalUrlRenderingStrategy","CometLinkPreviewSummaryStoryRenderingStrategy","CometLinkPreviewSummaryFallbackRenderingStrategy"])'}],type:"LinkPreviewRoot"};e.exports=a}),null);
__d("CometGroupResharesTargetGroup_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale",type:null}],kind:"Fragment",metadata:null,name:"CometGroupResharesTargetGroup_group",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"GroupPrivacyInfo",kind:"LinkedField",name:"privacy_info",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null}],storageKey:null},{args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],kind:"FragmentSpread",name:"TetraProfilePhotoForActor_actor"}],type:"Group"};e.exports=a}),null);
__d("CometResharesVoiceSwitcherMenuQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"2693722624028937",metadata:{relayPreloadable:!0},name:"CometResharesVoiceSwitcherMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometResharesVoiceSwitcher_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"has_linked_groups",type:"Boolean!"},{defaultValue:null,kind:"LocalArgument",name:"width",type:"Int!"},{defaultValue:null,kind:"LocalArgument",name:"height",type:"Int!"},{kind:"RootArgument",name:"scale",type:"Float"}],kind:"Fragment",metadata:null,name:"CometResharesVoiceSwitcher_viewer",selections:[{alias:"pages",args:[{kind:"Literal",name:"first",value:1},{kind:"Variable",name:"has_linked_groups",variableName:"has_linked_groups"}],concreteType:"AdminedPagesConnection",kind:"LinkedField",name:"admined_pages",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:[a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[a,{alias:null,args:[{kind:"Variable",name:"height",variableName:"height"},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Variable",name:"width",variableName:"width"}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],type:"Viewer"}}();e.exports=a}),null);
__d("CometResharesSummary.react",["CometRelay","React","CometResharesSummary_link_preview.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CometRelay").MatchContainer;b("CometRelay").graphql;var i=b("CometRelay").useFragment,j=b("React");function a(a){a=a.linkPreview;a=i(g!==void 0?g:g=b("CometResharesSummary_link_preview.graphql"),a);return j.jsx(h,{match:a.summary_renderer,props:{summaryRenderer:a.summary_renderer}})}e.exports=a}),null);
__d("CometResharesVoiceSwitcherMenu.entrypoint",["JSResource","WebPixelRatio","CometResharesVoiceSwitcherMenuQuery$Parameters"],(function(a,b,c,d,e,f){"use strict";a={getPreloadProps:function(a){a=a.onlyPagesWithLinkedGroups;return{queries:{menuQueryReference:{parameters:b("CometResharesVoiceSwitcherMenuQuery$Parameters"),variables:{hasLinkedGroups:a,scale:b("WebPixelRatio").get()}}}}},root:b("JSResource")("CometResharesVoiceSwitcherMenu.react").__setRef("CometResharesVoiceSwitcherMenu.entrypoint")};e.exports=a}),null);
__d("CometResharesVoiceSwitcher.react",["ix","fbt","CometEntryPointPopoverTrigger.react","CometRelay","CometResharesVoiceSwitcherMenu.entrypoint","React","TetraIcon.react","TetraProfilePhoto.react","fbicon","recoverableViolation","CometResharesVoiceSwitcher_viewer.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i;b("CometRelay").graphql;var j=b("CometRelay").useFragment,k=b("React");function a(a){var c,d,e=a.onlyPagesWithLinkedGroups;e=e===void 0?!1:e;a=a.viewerKey;a=j(i!==void 0?i:i=b("CometResharesVoiceSwitcher_viewer.graphql"),a);c=a==null?void 0:(c=a.actor)==null?void 0:c.id;var f=a==null?void 0:(d=a.actor)==null?void 0:(d=d.profile_picture)==null?void 0:d.uri;if(f==null||c==null)return b("recoverableViolation")("Actor or profile picture is null in reshare dialog","comet_feed");a=((c=a==null?void 0:(d=a.pages)==null?void 0:d.nodes)!=null?c:[]).length;return a===0?k.jsx(b("TetraProfilePhoto.react"),{shape:"circle",size:40,source:{uri:f},testid:void 0}):k.jsx(b("CometEntryPointPopoverTrigger.react"),{align:"end",entryPointParams:{onlyPagesWithLinkedGroups:e},otherProps:{},popoverEntryPoint:b("CometResharesVoiceSwitcherMenu.entrypoint"),position:"below",children:function(a,c){return k.jsx(b("TetraProfilePhoto.react"),{addOn:{backgroundColor:"var(--fds-spectrum-cherry)",icon:k.jsx(b("TetraIcon.react"),{color:"white",icon:b("fbicon")._(g("622240"),16)}),size:16,type:"activityBadge"},alt:h._("Voice switcher"),onPress:c,ref:a,shape:"circle",size:40,source:{uri:f},testid:void 0})}})}e.exports=a}),null);
__d("CometResharesConstants",[],(function(a,b,c,d,e,f){"use strict";a=3e3;e.exports={UNDO_DELAY_MS:a}}),null);
__d("useResharesDialogState",["regeneratorRuntime","CometResharesConstants","DeferredDraftEditor.react","React","getPlainTextFromDeferredDraftEditorState","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";c=b("React");var g=c.useCallback,h=c.useRef,i=c.useState;function j(a){a=i(a);var b=a[0],c=a[1],d=h(b);a=g(function(a){d.current=a,c(a)},[]);return[b,a,d]}function a(a){var c=a.getTargetKey,d=a.handleError,e=a.onSendPending,f=a.sharePost;a=j(function(){return{editorState:b("DeferredDraftEditor.react").createEmptyComposerState(),targets:new Map()}});var h=a[0],i=a[1],k=a[2],l=g(function(a){var b=k.current,d=b.targets.get(c(a));if(d==null||d.type!=="PENDING")return;d.cancel();i(babelHelpers["extends"]({},b,{targets:new Map(b.targets.set(c(a),null))}))},[c,i,k]),m=g(function(a){var g=k.current,h=g.editorState,j=b("getPlainTextFromDeferredDraftEditorState")(h),l=window.setTimeout(function(){var e,g,h;return b("regeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:e=k.current;i(babelHelpers["extends"]({},e,{targets:new Map(e.targets.set(c(a),{type:"SENDING"}))}));l.prev=2;l.next=5;return b("regeneratorRuntime").awrap(f(a,j));case 5:g=k.current;i(babelHelpers["extends"]({},g,{targets:new Map(g.targets.set(c(a),{type:"SENT"}))}));l.next=14;break;case 9:l.prev=9,l.t0=l["catch"](2),d({error:l.t0}),h=k.current,i(babelHelpers["extends"]({},h,{targets:new Map(h.targets.set(c(a),null))}));case 14:case"end":return l.stop()}},null,this,[[2,9]])},b("CometResharesConstants").UNDO_DELAY_MS);h=function(){window.clearTimeout(l)};e&&e();i(babelHelpers["extends"]({},g,{targets:new Map(g.targets.set(c(a),{cancel:h,type:"PENDING"}))}))},[k,e,i,c,f,d]);a=g(function(a){var d=h.targets.get(c(a));d=(d=d==null?void 0:d.type)!=null?d:null;switch(d){case"PENDING":return{trigger:function(){return l(a)},type:"UNDO"};case"SENDING":return{type:"OPTIMISTIC_VIEW"};case"SENT":return{type:"VIEW"};case null:return{trigger:function(){return m(a)},type:"SEND"};default:d;throw new(b("unrecoverableViolation"))("Got an invalid target action type. Flow should have caught this.","comet_feed")}},[c,h.targets,m,l]);var n=function(a){i(babelHelpers["extends"]({},h,{editorState:a}))};return{editorState:h.editorState,getTargetAction:a,setEditorState:n}}e.exports=a}),null);
__d("CometGenericUrlResharesDialog.react",["fbt","CometCardedDialog.react","CometRelay","CometResharesSummary.react","CometResharesVoiceSwitcher.react","DeferredDraftEditor.react","React","TetraProfilePhotoForActor.react","TetraText.react","stylex","useResharesDialogState","CometGenericUrlResharesDialog_link_preview.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("CometRelay").MatchContainer;b("CometRelay").graphql;var j=b("CometRelay").useFragment,k=b("React");c=b("React");var l=c.useState;function a(a){var c=a.children,d=a.getTargetKey,e=a.handleError,f=a.linkPreview,m=a.onClose,n=a.onSendPending,o=a.sharePost,p=a.title;a=a.voice;f=j(h!==void 0?h:h=b("CometGenericUrlResharesDialog_link_preview.graphql"),f);d=b("useResharesDialogState")({getTargetKey:d,handleError:e,onSendPending:n,sharePost:o});e=d.editorState;n=d.getTargetAction;var q=d.setEditorState;o=l(!1);d=o[0];var r=o[1];o=f==null?void 0:f.composer_post_confirmation_renderer;function s(a){switch(a){case"ACCEPTED":r(!0);break;case"NO_DECISION":m();break;default:a}}return o!=null&&!d?k.jsx(i,{match:o,props:{composerPhase:"COMPOSING",composerType:"share",confirmationRenderer:o,onClose:s}}):k.jsx(b("CometCardedDialog.react"),{onClose:m,size:"small",title:p,withCloseButton:!0,children:k.jsxs("div",{className:"tr9rh885",children:[k.jsx("div",{className:"dhix69tm wkznzc2l",children:k.jsx(b("CometResharesSummary.react"),{linkPreview:f})}),k.jsxs("div",{className:"gh1tjcio dhix69tm wkznzc2l oud54xpy j83agx80",children:[a,k.jsx("div",{className:"dhix69tm buofh1pr o8rfisnq","data-testid":void 0,children:k.jsx(b("TetraText.react"),{type:"body1",children:k.jsx(b("DeferredDraftEditor.react"),{autoFocus:!0,editorState:e,onStateChange:function(a){return q(a)},placeholder:g._("Say something about this...").toString()})})})]}),c({getTargetAction:n})]})})}e.exports=a}),null);
__d("CometReshareDialogTargetSection.react",["React","TetraList.react","TetraUnit.react","TetraUnitHeader.react"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.children;a=a.sectionTitle;return g.jsx(b("TetraUnit.react"),{header:g.jsx(b("TetraUnitHeader.react"),{headline:a,level:3}),children:g.jsx(b("TetraList.react"),{children:c})})}e.exports=a}),null);
__d("CometResharesSearchTargetsArea.react",["CometSearchTypeaheadBaseInputRoundedStrategy.react","CometSearchTypeaheadBaseLayoutInlineStrategyWithScrollableView.react","CometSearchTypeaheadBaseViewEmptyState.react","CometTypeahead.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");c=b("React");var i=c.useMemo,j=c.useState,k={searchInputWrapper:{marginBottom:"oygrvhab",marginEnd:"wkznzc2l",marginStart:"dhix69tm",marginTop:"tr9rh885"},targetScrollArea:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",height:"sgwjjusx"},withDivider:{borderTop:"l6v480f0",marginTop:"tr9rh885"}},l=h.forwardRef(function(a,c){a=babelHelpers["extends"]({},a);return h.jsx("div",{className:(g||(g=b("stylex")))(k.searchInputWrapper),children:h.jsx(b("CometSearchTypeaheadBaseInputRoundedStrategy.react"),babelHelpers["extends"]({},a,{ref:c}))})});function a(a){var c=a.dataSource,d=a.hideDivider,e=a.noSearchResultsText,f=a.placeholder,m=a.renderResults,n=a.suggestedTargets;a=j("");var o=a[0];a=a[1];var p=i(function(){return function(a){var c=a.entries;a=a.queryString;a=((a=a==null?void 0:a.length)!=null?a:0)>0;if(!a)return n;return c.length===0?h.jsx(b("CometSearchTypeaheadBaseViewEmptyState.react"),{children:e}):m({entries:c})}},[n,m,e]);return h.jsx("div",{className:(g||(g=b("stylex")))(d!==!0?k.withDivider:null),children:h.jsx(b("CometTypeahead.react"),{dataSource:c,inputStrategyRenderer:l,layoutStrategyRenderer:b("CometSearchTypeaheadBaseLayoutInlineStrategyWithScrollableView.react"),onChange:a,placeholder:f,queryString:o,shouldQueryStringFollowHighlightedEntry:!1,shouldQueryStringUpdateFromSelectedEntryOnClick:!1,viewStrategyRenderer:p,xstyles:{viewXStyle:k.targetScrollArea}})})}e.exports=a}),null);
__d("getCometResharePostAction",["ix","fbt","CometProgressRing.react","CometResharesConstants","React","TetraIcon.react","fbicon","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){a=a.targetAction;switch(a.type){case"SEND":return{label:h._("Share"),onPress:a.trigger,reduceEmphasis:!0,type:"primary-button"};case"UNDO":return{addOnSecondary:i.jsx(b("CometProgressRing.react"),{color:"blue",duration:b("CometResharesConstants").UNDO_DELAY_MS/1e3,size:16,type:"count-down"}),label:h._("Undo"),onPress:a.trigger,reduceEmphasis:!0,type:"secondary-button"};case"OPTIMISTIC_VIEW":return{addOnSecondary:i.jsx(b("TetraIcon.react"),{color:"disabled",icon:b("fbicon")._(g("477813"),16),size:16}),disabled:!0,label:h._("Shared"),reduceEmphasis:!0,type:"primary-button"};case"VIEW":return{addOnSecondary:i.jsx(b("TetraIcon.react"),{color:"disabled",icon:b("fbicon")._(g("477813"),16),size:16}),disabled:!0,label:h._("Shared"),reduceEmphasis:!0,testid:"ReshareActionButtonSent",type:"primary-button"};default:a.type,b("recoverableViolation")("Got an unexpected reshare target status","comet_feed")}return null}e.exports=a}),null);
__d("CometGroupResharesTargetGroup.react",["CometRelay","CometTextWithEntitiesRelay.react","React","TetraListCell.react","getCometResharePostAction","recoverableViolation","CometGroupResharesTargetGroup_group.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React");function a(a){var c,d=a.getTargetAction;a=a.group;a=h(g!==void 0?g:g=b("CometGroupResharesTargetGroup_group.graphql"),a);var e=a.id;c=(c=a.privacy_info)==null?void 0:c.title;var f=a.name;return e==null||c==null||f==null?b("recoverableViolation")("Need an id, privacyTitle and name to render a group target","comet_feed"):i.jsx(b("TetraListCell.react"),{addOnPrimary:{actor:a,shape:"roundedRect",size:40,type:"profile-photo-for-actor"},addOnSecondary:b("getCometResharePostAction")({targetAction:d(e)}),body:i.jsx(b("CometTextWithEntitiesRelay.react"),{textWithEntities:c}),headline:f,level:3})}e.exports=a}),null);