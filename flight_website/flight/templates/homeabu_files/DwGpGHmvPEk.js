if (self.CavalryLogger) { CavalryLogger.start_js(["R0bB5"]); }

__d("PublicEventCometRSVPMenuBase_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"render_location",value:"COMET_EVENTS_RSVP"}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale",type:"Float"}],kind:"Fragment",metadata:null,name:"PublicEventCometRSVPMenuBase_event",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_join",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_watch",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_unwatch",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},{alias:null,args:null,concreteType:"EventToChildEventsConnection",kind:"LinkedField",name:"child_events",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null},{alias:null,args:a,concreteType:"PrivacyScope",kind:"LinkedField",name:"event_connection_data_privacy_scope",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"PrivacyScopeEditableRenderer"}],concreteType:null,kind:"LinkedField",name:"privacy_scope_renderer",plural:!1,selections:[{alias:null,args:a,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometPrivacyIcon_image"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometPrivacySelectorDialog_scope"}],storageKey:'privacy_scope_for_location(render_location:"COMET_EVENTS_RSVP")'}],storageKey:'privacy_scope_renderer(supported:"PrivacyScopeEditableRenderer")'}],storageKey:'event_connection_data_privacy_scope(render_location:"COMET_EVENTS_RSVP")'}],type:"Event"}}();e.exports=a}),null);
__d("PublicEventCometRSVPMutationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input",type:"EventUpdateExtendedViewerWatchStatusData!"},{defaultValue:null,kind:"LocalArgument",name:"scale",type:"Float!"}],b=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"can_viewer_join",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"can_viewer_set_notification",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"can_viewer_watch",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"can_viewer_unwatch",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"can_viewer_create_post",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"viewer_has_pending_invite",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},j=[{kind:"Literal",name:"render_location",value:"COMET_EVENTS_RSVP"}],k=[{kind:"Literal",name:"supported",value:"PrivacyScopeEditableRenderer"}],l={kind:"Variable",name:"scale",variableName:"scale"},m=[l],n={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},q=[p],r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},t={kind:"Literal",name:"first",value:3};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"PublicEventCometRSVPMutationQuery",selections:[{alias:null,args:b,concreteType:"EventUpdateExtendedViewerWatchStatusResponsePayload",kind:"LinkedField",name:"event_update_extended_viewer_watch_status",plural:!1,selections:[{alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"event",plural:!1,selections:[c,d,e,f,{alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"parent_if_exists_or_self",plural:!1,selections:[g],storageKey:null},h,i,{alias:null,args:j,concreteType:"PrivacyScope",kind:"LinkedField",name:"event_connection_data_privacy_scope",plural:!1,selections:[{alias:null,args:k,concreteType:null,kind:"LinkedField",name:"privacy_scope_renderer",plural:!1,selections:[{alias:null,args:j,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{alias:null,args:m,concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometPrivacyIcon_image"}],storageKey:null},n,{args:null,kind:"FragmentSpread",name:"useCometPrivacySelectorDialog_scope"}],storageKey:'privacy_scope_for_location(render_location:"COMET_EVENTS_RSVP")'}],storageKey:'privacy_scope_renderer(supported:"PrivacyScopeEditableRenderer")'}],storageKey:'event_connection_data_privacy_scope(render_location:"COMET_EVENTS_RSVP")'},{args:null,kind:"FragmentSpread",name:"EventCometContextRowMemberAttendance_event"},{args:null,kind:"FragmentSpread",name:"EventCometGoWithFriendsAttendingSummary_event"}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Literal",name:"upcomingEventsCount",value:3}],kind:"FragmentSpread",name:"EventCometDashboardLeftRailUpcomingEvents_viewer"}],storageKey:null}],storageKey:null}],type:"Mutation"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PublicEventCometRSVPMutationQuery",selections:[{alias:null,args:b,concreteType:"EventUpdateExtendedViewerWatchStatusResponsePayload",kind:"LinkedField",name:"event_update_extended_viewer_watch_status",plural:!1,selections:[{alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"event",plural:!1,selections:[c,d,e,f,{alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"parent_if_exists_or_self",plural:!1,selections:[g,o],storageKey:null},h,i,{alias:"can_view_attendance_context_row",args:null,concreteType:"CanViewMembersRenderer",kind:"LinkedField",name:"can_view_members_renderer",plural:!1,selections:[{documentName:"EventCometContextRowMemberAttendance_event",fragmentName:"EventCometContextRowContentUniversalAttendance_canViewMembersRenderer",fragmentPropName:"canViewMembersRenderer",kind:"ModuleImport"}],storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"is_past",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_child_events",storageKey:null},{alias:"event_connected_users_going",args:[{kind:"Literal",name:"connection_types",value:["GOING"]}],concreteType:"EventConnectedUsersConnection",kind:"LinkedField",name:"event_connected_users",plural:!1,selections:q,storageKey:'event_connected_users(connection_types:["GOING"])'},{alias:"event_connected_users_interested",args:[{kind:"Literal",name:"connection_types",value:["INTERESTED"]}],concreteType:"EventConnectedUsersConnection",kind:"LinkedField",name:"event_connected_users",plural:!1,selections:q,storageKey:'event_connected_users(connection_types:["INTERESTED"])'},{alias:null,args:j,concreteType:"PrivacyScope",kind:"LinkedField",name:"event_connection_data_privacy_scope",plural:!1,selections:[{alias:null,args:k,concreteType:null,kind:"LinkedField",name:"privacy_scope_renderer",plural:!1,selections:[r,{alias:null,args:j,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_edit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy_write_id",storageKey:null},{alias:null,args:m,concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},n],storageKey:'privacy_scope_for_location(render_location:"COMET_EVENTS_RSVP")'},o],storageKey:'privacy_scope_renderer(supported:"PrivacyScopeEditableRenderer")'}],storageKey:'event_connection_data_privacy_scope(render_location:"COMET_EVENTS_RSVP")'}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"connection_types",value:["HOST","GOING","INVITED","MAYBED","INTERESTED"]},{kind:"Literal",name:"filter_child_events",value:"HIDE_EVENTS_WITH_CHILDREN"},t,{kind:"Literal",name:"upcoming",value:!0}],concreteType:"AllEventsConnection",kind:"LinkedField",name:"all_events",plural:!1,selections:[{alias:null,args:null,concreteType:"AllEventsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"node",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_canceled",storageKey:null},{alias:"cover_media_renderer",args:[{kind:"Literal",name:"supported",value:["EventCoverPhotoRenderer","EventCoverVideoRenderer"]}],concreteType:null,kind:"LinkedField",name:"comet_cover_media_renderer",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{documentName:"EventCometItemImage_event",fragmentName:"EventCometItemPhotoRenderer_coverMedia",fragmentPropName:"coverMedia",kind:"ModuleImport"}],type:"EventCoverPhotoRenderer"},{kind:"InlineFragment",selections:[{documentName:"EventCometItemImage_event",fragmentName:"EventCometItemVideoRenderer_coverMedia",fragmentPropName:"coverMedia",kind:"ModuleImport"}],type:"EventCoverVideoRenderer"}],storageKey:'comet_cover_media_renderer(supported:["EventCoverPhotoRenderer","EventCoverVideoRenderer"])'},{alias:null,args:[{kind:"Literal",name:"catkit_category_type",value:"PREDICTED"}],concreteType:"EventDiscoverCategoryFormatData",kind:"LinkedField",name:"discovery_categories",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"glyph_token",storageKey:null}],storageKey:'discovery_categories(catkit_category_type:"PREDICTED")'},{alias:null,args:[{kind:"Literal",name:"connection_types",value:["GOING","INTERESTED"]},t,{kind:"Literal",name:"is_viewer_friend",value:!0},{kind:"Literal",name:"orderby",value:"viewer_member_coefficient"}],concreteType:"EventConnectedUsersConnection",kind:"LinkedField",name:"event_connected_users",plural:!1,selections:[p,{alias:null,args:null,concreteType:"EventConnectedUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r,{alias:null,args:[{kind:"Literal",name:"height",value:24},l,{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[s],storageKey:null},o],storageKey:null}],storageKey:null}],storageKey:'event_connected_users(connection_types:["GOING","INTERESTED"],first:3,is_viewer_friend:true,orderby:"viewer_member_coefficient")'},{alias:null,args:[{kind:"Literal",name:"social_context_format",value:"SHORT_RSVP_SHOW_NAMES_ONLY"},{kind:"Literal",name:"social_context_render_location",value:"EVENTS_DASHBOARD"}],concreteType:"TextWithEntities",kind:"LinkedField",name:"social_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:'social_context(social_context_format:"SHORT_RSVP_SHOW_NAMES_ONLY",social_context_render_location:"EVENTS_DASHBOARD")'},{alias:null,args:null,kind:"ScalarField",name:"utc_start_timestamp",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:'all_events(connection_types:["HOST","GOING","INVITED","MAYBED","INTERESTED"],filter_child_events:"HIDE_EVENTS_WITH_CHILDREN",first:3,upcoming:true)'},o],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"2806385236065276",metadata:{},name:"PublicEventCometRSVPMutationQuery",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PublicEventCometRSVPMenuBase.react",["ix","fbt","CometMenu.react","CometMenuItemSelectable.react","CometRelay","CometSeparatorMenuItem.react","PublicEventCometRSVPButtonStrings","React","TetraIcon.react","TetraText.react","emptyFunction","fbicon","gkx","stylex","unrecoverableViolation","useCometPrivacyIcon","useCometPrivacySelectorDialog","PublicEventCometRSVPMenuBase_event.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;b("CometRelay").graphql;var k=b("CometRelay").useFragment,l=b("PublicEventCometRSVPButtonStrings").Going,m=b("PublicEventCometRSVPButtonStrings").Interested,n=b("PublicEventCometRSVPButtonStrings").Remove,o=b("React"),p=b("useCometPrivacyIcon").useCometPrivacyIconForMenuItem;function a(a){var c=a.event,d=a.onPrivacyChange,e=a.onRSVPChange;a=k(i!==void 0?i:i=b("PublicEventCometRSVPMenuBase_event.graphql"),c);if(a==null)throw b("unrecoverableViolation")("event cannot be null","events");c=a.can_viewer_join;var f=a.can_viewer_unwatch,q=a.can_viewer_watch,r=a.child_events,s=a.event_connection_data_privacy_scope;a=a.viewer_watch_status;var t=a==="WATCHED",u=a==="UNWATCHED",v=a==="GOING",w=b("gkx")("1106435");s=s==null?void 0:(s=s.privacy_scope_renderer)==null?void 0:s.privacy_scope_for_location;var x=p(s==null?void 0:s.icon_image);d=b("useCometPrivacySelectorDialog")(s,{onPrivacyChange:d,renderLocation:"COMET_EVENTS_RSVP"});d=d[0];s=s==null?void 0:s.label;if(w){if(d==null)throw b("unrecoverableViolation")("couldn't get showPrivacySelectorDialog","events");if(s==null)throw b("unrecoverableViolation")("couldn't get label for privacy selector option","events")}s=h._("Visible to the hosts and {=[events_rsvp_audience]}",[h._param("=[events_rsvp_audience]",o.jsx(b("TetraText.react"),{type:"headlineEmphasized4",children:h._("{events_rsvp_audience}",[h._param("events_rsvp_audience",s)])}))]);var y=function(a){return a?o.jsx(b("TetraIcon.react"),{color:"highlight",icon:b("fbicon")._(g("621399"),20)}):o.jsx(b("TetraIcon.react"),{color:"secondary",icon:b("fbicon")._(g("545511"),20)})};return o.jsx("div",{className:"b38knevg",children:o.jsxs(b("CometMenu.react"),{size:"full",children:[o.jsx(b("CometMenuItemSelectable.react"),{aux:y,disabled:q!==!0&&!t,iconNode:o.jsx("div",{className:(j||(j=b("stylex"))).dedupe({"align-items-1":"bp9cbjyn","background-color-1":"tdjehn4e","border-top-start-radius-1":"s45kfl79","border-top-end-radius-1":"emlxlaya","border-bottom-end-radius-1":"bkmhp75w","border-bottom-start-radius-1":"spb7xbtv","display-1":"j83agx80","height-1":"tv7at329","justify-content-1":"taijpn5t","margin-end-1":"tvfksri0","min-width-1":"odlk74j0"},t?{"background-color-1":"i224opu6"}:null),children:o.jsx(b("TetraIcon.react"),{color:t?"highlight":"primary",icon:b("fbicon")._(g("479327"),20)})}),iconStyle:"contained",isSelected:t,onClick:function(a){return e("WATCHED")},primaryColor:t?"highlight":"primary",primaryText:m(a),role:"menuitemradio",testid:void 0}),(r==null?void 0:r.count)==null||(r==null?void 0:r.count)===0?o.jsx(b("CometMenuItemSelectable.react"),{aux:y,disabled:c!==!0&&!v,iconNode:o.jsx("div",{className:(j||(j=b("stylex"))).dedupe({"align-items-1":"bp9cbjyn","background-color-1":"tdjehn4e","border-top-start-radius-1":"s45kfl79","border-top-end-radius-1":"emlxlaya","border-bottom-end-radius-1":"bkmhp75w","border-bottom-start-radius-1":"spb7xbtv","display-1":"j83agx80","height-1":"tv7at329","justify-content-1":"taijpn5t","margin-end-1":"tvfksri0","min-width-1":"odlk74j0"},v?{"background-color-1":"i224opu6"}:null),children:o.jsx(b("TetraIcon.react"),{color:v?"highlight":"primary",icon:b("fbicon")._(g("498146"),20)})}),isSelected:v,onClick:function(a){return e("GOING")},primaryColor:v?"highlight":"primary",primaryText:l(a),role:"menuitemradio",testid:void 0}):null,!w===!0?o.jsx(b("CometSeparatorMenuItem.react"),{}):null,o.jsx(b("CometMenuItemSelectable.react"),{aux:y,disabled:f!==!0&&!u,iconNode:o.jsx("div",{className:"odlk74j0 tvfksri0 taijpn5t tv7at329 j83agx80 spb7xbtv bkmhp75w emlxlaya s45kfl79 tdjehn4e bp9cbjyn",children:o.jsx(b("TetraIcon.react"),{color:"primary",icon:b("fbicon")._(g("491581"),20)})}),isSelected:!1,onClick:function(a){return e("UNWATCHED")},primaryText:n(a),role:"menuitemradio",testid:void 0}),w===!0?o.jsx(b("CometSeparatorMenuItem.react"),{}):null,w===!0?o.jsx(b("CometMenuItemSelectable.react"),{aux:function(){return o.jsx(b("TetraIcon.react"),{color:"secondary",icon:b("fbicon")._(g("492536"),20)})},iconNode:o.jsx("div",{className:"odlk74j0 tvfksri0 taijpn5t tv7at329 j83agx80 spb7xbtv bkmhp75w emlxlaya s45kfl79 tdjehn4e bp9cbjyn",children:o.jsx(b("TetraIcon.react"),{color:"primary",icon:x||b("fbicon")._(g("497570"),20)})}),isSelected:!1,onClick:(q=d)!=null?q:b("emptyFunction"),primaryText:s,role:"menuitemradio"}):null]})})}e.exports=a}),null);
__d("PublicEventCometRSVPMutation",["CometRelay","WebPixelRatio","unrecoverableViolation","PublicEventCometRSVPMutationQuery.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h=b("CometRelay").commitLocalUpdate,i=b("CometRelay").commitMutation;b("CometRelay").graphql;var j=g!==void 0?g:g=b("PublicEventCometRSVPMutationQuery.graphql");function a(a,c,d,e,f,g){if(c==null)throw b("unrecoverableViolation")("missing event id for rsvp mutation","events");i(a,{mutation:j,onCompleted:function(b){h(a,function(a){a=a.get(c);a&&a.setValue(!1,"is_rsvp_disabled_for_viewer");b&&(g&&g(d))})},optimisticUpdater:function(a){a=a.get(c);a&&(a.setValue(d,"viewer_watch_status").setValue(d!=="GOING","can_viewer_join").setValue(d!=="WATCHED","can_viewer_watch").setValue(d!=="UNWATCHED","can_viewer_unwatch").setValue(!1,"viewer_has_pending_invite").setValue(!0,"is_rsvp_disabled_for_viewer"),(d==="UNWATCHED"||d==="DECLINED")&&a.setValue(!1,"can_viewer_set_notification"))},variables:{input:{context:e,event_id:c,is_tracking_encrypted:!0,tracking:f==null?void 0:f.encrypted_tracking,watch_status:d},scale:b("WebPixelRatio").get()}})}e.exports={commit:a}}),null);