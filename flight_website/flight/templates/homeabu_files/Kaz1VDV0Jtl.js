if (self.CavalryLogger) { CavalryLogger.start_js(["XJPmO"]); }

__d("PublicEventCometRSVPButtonRenderer_rsvpStyleRenderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{kind:"Literal",name:"render_location",value:"COMET_EVENTS_RSVP"}],c=[{alias:null,args:[{kind:"Literal",name:"supported",value:"PrivacyScopeEditableRenderer"}],concreteType:null,kind:"LinkedField",name:"privacy_scope_renderer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:b,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_edit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy_write_id",storageKey:null},{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:'privacy_scope_for_location(render_location:"COMET_EVENTS_RSVP")'},a],storageKey:'privacy_scope_renderer(supported:"PrivacyScopeEditableRenderer")'}];return{kind:"SplitOperation",metadata:{derivedFrom:"PublicEventCometRSVPButtonRenderer_rsvpStyleRenderer"},name:"PublicEventCometRSVPButtonRenderer_rsvpStyleRenderer$normalization",selections:[{alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"event",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"connection_style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_join",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_watch",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_unwatch",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},{alias:null,args:null,concreteType:"EventToChildEventsConnection",kind:"LinkedField",name:"child_events",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null},{alias:null,args:b,concreteType:"PrivacyScope",kind:"LinkedField",name:"event_connection_data_privacy_scope",plural:!1,selections:c,storageKey:'event_connection_data_privacy_scope(render_location:"COMET_EVENTS_RSVP")'},{alias:"privacy_scope_for_toast",args:b,concreteType:"PrivacyScope",kind:"LinkedField",name:"event_connection_data_privacy_scope",plural:!1,selections:c,storageKey:'event_connection_data_privacy_scope(render_location:"COMET_EVENTS_RSVP")'},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_rsvp_disabled_for_viewer",storageKey:null}]}],storageKey:null}]}}();e.exports=a}),null);
__d("PublicEventCometRSVPButtonRenderer_rsvpStyleRenderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PublicEventCometRSVPButtonRenderer_rsvpStyleRenderer",selections:[{alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"event",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PublicEventCometRSVPButton_event"}],storageKey:null}],type:"PublicRsvpStyleRenderer"};e.exports=a}),null);
__d("PublicEventCometRSVPButton_event.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"render_location",value:"COMET_EVENTS_RSVP"}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PublicEventCometRSVPButton_event",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"connection_style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_join",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_watch",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_unwatch",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},{alias:"privacy_scope_for_toast",args:a,concreteType:"PrivacyScope",kind:"LinkedField",name:"event_connection_data_privacy_scope",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"PrivacyScopeEditableRenderer"}],concreteType:null,kind:"LinkedField",name:"privacy_scope_renderer",plural:!1,selections:[{alias:null,args:a,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope_for_location",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useEventsRSVPPrivacyToast_scope"}],storageKey:'privacy_scope_for_location(render_location:"COMET_EVENTS_RSVP")'}],storageKey:'privacy_scope_renderer(supported:"PrivacyScopeEditableRenderer")'}],storageKey:'event_connection_data_privacy_scope(render_location:"COMET_EVENTS_RSVP")'},{args:null,kind:"FragmentSpread",name:"PublicEventCometRSVPMenuBase_event"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_rsvp_disabled_for_viewer",storageKey:null}]}],type:"Event"}}();e.exports=a}),null);
__d("useEventsRSVPPrivacyToast_scope.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useEventsRSVPPrivacyToast_scope",selections:[{args:null,kind:"FragmentSpread",name:"useEventsRSVPPrivacyToast_toastScope"}],type:"PrivacyScope"};e.exports=a}),null);
__d("useEventsRSVPPrivacyToast_toastScope.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale",type:"Float"}],kind:"Fragment",metadata:null,name:"useEventsRSVPPrivacyToast_toastScope",selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"}],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometPrivacyIcon_image"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometPrivacySelectorDialog_scope"}],type:"PrivacyScope"};e.exports=a}),null);
__d("useEventsRSVPPrivacyToast",["fbt","CometRelay","React","TetraIcon.react","TetraText.react","cometPushToast","gkx","stylex","useCometPrivacyIcon","useCometPrivacySelectorDialog","useEventsRSVPPrivacyToast_scope.graphql","useEventsRSVPPrivacyToast_toastScope.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b("CometRelay").graphql;var j=b("CometRelay").useFragment,k=b("React");c=b("React");var l=c.useEffect,m=c.useState,n=b("cometPushToast").cometPushToast,o=b("useCometPrivacyIcon").useCometPrivacyIconForMenuItem;function a(a){a=j(h!==void 0?h:h=b("useEventsRSVPPrivacyToast_scope.graphql"),a);var c=m(!1),d=c[0],e=c[1];c=m(!1);var f=c[0],g=c[1];c=function(a){e(!0),g(a.withAction)};return a==null||!b("gkx")("1106435")?[null,c]:[k.jsx(p,{hasAction:f,isVisible:d,scope:a,setVisible:e}),c]}function p(a){var c=j(i!==void 0?i:i=b("useEventsRSVPPrivacyToast_toastScope.graphql"),a.scope),d=b("useCometPrivacySelectorDialog")(c,{renderLocation:"COMET_EVENTS_RSVP"}),e=d[0],f=o(c.icon_image),h=a.hasAction,m=a.isVisible,p=a.setVisible;l(function(){m&&(n({action:h?{label:k.jsx(b("TetraText.react"),{color:"white",type:"body3",children:k.jsx("span",{className:"btwxx1t3 j83agx80 gs1a9yip",children:g._("Change")})}),onPress:function(){e&&e()}}:void 0,message:k.jsx(b("TetraText.react"),{type:"body3",children:k.jsx("span",{className:"btwxx1t3 j83agx80 gs1a9yip",children:g._("Your response is visible to the hosts and {privacy_group}",[g._param("privacy_group",k.jsxs(k.Fragment,{children:[k.jsx("span",{className:"h676nmdw cgat1ltu",children:f!=null?k.jsx(b("TetraIcon.react"),{color:"white",icon:f}):null}),c.label]}))])})})}),p(!1))},[h,m,p,f,c,e]);return null}e.exports=a}),null);
__d("PublicEventCometRSVPButton.react",["ix","requireDeferred","CometDeferredPopoverTrigger.react","CometRelay","CometTrackingCodeContext","EventCometActionContext","PublicEventCometRSVPButtonStrings","React","TetraButton.react","TetraCircleButton.react","TetraIcon.react","fbicon","stylex","unrecoverableViolation","useEventsRSVPPrivacyToast","PublicEventCometRSVPButton_event.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;b("CometRelay").graphql;var i=b("CometRelay").useFragment,j=b("CometRelay").useRelayEnvironment,k=b("PublicEventCometRSVPButtonStrings").Going,l=b("PublicEventCometRSVPButtonStrings").Interested,m=b("requireDeferred")("PublicEventCometRSVPMenuBase.react"),n=b("requireDeferred")("PublicEventCometRSVPMutation"),o=b("React");c=b("React");var p=c.useCallback,q=c.useContext,r=h!==void 0?h:h=b("PublicEventCometRSVPButton_event.graphql");function s(a){switch(a){case"GOING":return b("fbicon")._(g("498145"),16);case"WATCHED":return b("fbicon")._(g("479324"),16);default:return b("fbicon")._(g("477813"),16)}}function a(a){var c=a.colorWhenOn,d=a.event,e=a.labelIsHidden,f=e===void 0?!1:e,h=a.onRSVPChange;e=a.showMenuOnLoad;a=e===void 0?!1:e;var t=j();e=i(r,d);if(e==null)throw b("unrecoverableViolation")("event cannot be null","events");d=e.can_viewer_join;var u=e.can_viewer_unwatch,v=e.can_viewer_watch,w=e.connection_style,x=e.id,y=e.is_rsvp_disabled_for_viewer,z=e.privacy_scope_for_toast,A=e.viewer_watch_status;z=z==null?void 0:(z=z.privacy_scope_renderer)==null?void 0:z.privacy_scope_for_location;z=b("useEventsRSVPPrivacyToast")(z);var B=z[0],C=z[1],D=q(b("EventCometActionContext")),E=q(b("CometTrackingCodeContext")),F=p(function(a){a!==A&&n.onReady(function(b){b=b.commit;return b(t,x,a,D,E,function(a){h&&h(a),A==="UNWATCHED"&&(C&&C({withAction:!0}))})})},[A,h,C,t,x,D,E]);if(w!=="INTERESTED")return null;if(d!==!0&&v!==!0&&u!==!0)return null;var G=A==="WATCHED";z=A==="GOING";if(G||z)return o.jsxs(o.Fragment,{children:[o.jsx(b("CometDeferredPopoverTrigger.react"),{align:"end",popoverProps:{event:e,onPrivacyChange:function(){C&&C({withAction:!1})},onRSVPChange:F},popoverResource:m,visibleOnLoad:a&&y!==!0,children:function(a,d){var e=y===!0;d={disabled:e,icon:s(A),onPress:d,ref:a,testid:"rsvp-button"};a=G?l(A):k(A);return f?o.jsx(b("TetraCircleButton.react"),babelHelpers["extends"]({},d,{color:c==="blue"?"highlight":"secondary",label:a,size:36,type:c==="blue"&&!e?"deemphasized-overlay":"normal"})):o.jsx(b("TetraButton.react"),babelHelpers["extends"]({},d,{label:o.jsxs("div",{className:"j83agx80 bp9cbjyn",children:[o.jsx("div",{className:"dflh9lhu",children:a}),o.jsx(b("TetraIcon.react"),{color:y===!0?"disabled":c==="blue"?"highlight":"primary",icon:b("fbicon")._(g("492446"),12)})]}),reduceEmphasis:c==="blue",type:c==="blue"?"primary":"secondary"}))}}),B]});w={disabled:y===!0||v!==!0,icon:b("fbicon")._(g("479360"),16),label:l(A),onPress:function(){return F("WATCHED")},testid:"rsvp-button"};return o.jsxs(o.Fragment,{children:[f?o.jsx(b("TetraCircleButton.react"),babelHelpers["extends"]({},w,{color:"secondary",size:36})):o.jsx(b("TetraButton.react"),babelHelpers["extends"]({},w,{type:"secondary"})),B]})}e.exports=a}),null);
__d("PublicEventCometRSVPButtonRenderer.react",["CometRelay","PublicEventCometRSVPButton.react","React","unrecoverableViolation","PublicEventCometRSVPButtonRenderer_rsvpStyleRenderer.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=b("React"),j=g!==void 0?g:g=b("PublicEventCometRSVPButtonRenderer_rsvpStyleRenderer.graphql");function a(a){var c=a.rsvpStyleRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["rsvpStyleRenderer"]);c=h(j,c);c=c.event;if(c==null)throw b("unrecoverableViolation")("event cannot be null","events");return i.jsx(b("PublicEventCometRSVPButton.react"),babelHelpers["extends"]({event:c},a))}e.exports=a}),null);