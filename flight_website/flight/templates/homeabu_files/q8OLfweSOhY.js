if (self.CavalryLogger) { CavalryLogger.start_js(["X8wn+"]); }

__d("useCometInspirationsCustomFont_customFont.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometInspirationsCustomFont_customFont",selections:[{alias:null,args:null,kind:"ScalarField",name:"font_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_url",storageKey:null}],type:"InspirationsCustomFont"};e.exports=a}),null);
__d("useCometFeedFormattedTextRenderer_message.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCometFeedFormattedTextRenderer_message",selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],type:"TextWithEntities"};e.exports=a}),null);
__d("useCometFeedFormattedTextRenderer_metadata.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"scale",variableName:"scale"}],b=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale",type:"Float"}],kind:"Fragment",metadata:null,name:"useCometFeedFormattedTextRenderer_metadata",selections:[{alias:null,args:null,kind:"ScalarField",name:"avatar_story_text_format_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_direction",storageKey:null},{alias:null,args:a,concreteType:"Image",kind:"LinkedField",name:"background_image",plural:!1,selections:b,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_weight",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_style",storageKey:null},{alias:null,args:a,concreteType:"Image",kind:"LinkedField",name:"portrait_background_image",plural:!1,selections:b,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text_align",storageKey:null}],type:"TextFormatMetadata"}}();e.exports=a}),null);
__d("CometFeedStoryFormattedBackgroundMessageRenderingStrategy_message$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},g=[{kind:"Variable",name:"scale",variableName:"scale"}],h=[d];return{kind:"SplitOperation",metadata:{derivedFrom:"CometFeedStoryFormattedBackgroundMessageRenderingStrategy_message"},name:"CometFeedStoryFormattedBackgroundMessageRenderingStrategy_message$normalization",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[b,c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[a,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},e],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[b,c,{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedEntitiesAtRange",kind:"LinkedField",name:"aggregated_ranges",plural:!0,selections:[b,c,{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sample_entities",plural:!0,selections:[a,{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"User"},e],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[a,e,{alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null}],type:"Page"},{kind:"InlineFragment",selections:[f],type:"User"},{kind:"InlineFragment",selections:[f,{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group"}],storageKey:null},b,c],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextFormatMetadata",kind:"LinkedField",name:"text_format_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"avatar_story_text_format_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_direction",storageKey:null},{alias:null,args:g,concreteType:"Image",kind:"LinkedField",name:"background_image",plural:!1,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_weight",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_style",storageKey:null},{alias:null,args:g,concreteType:"Image",kind:"LinkedField",name:"portrait_background_image",plural:!1,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text_align",storageKey:null},{alias:null,args:null,concreteType:"InspirationsCustomFont",kind:"LinkedField",name:"inspirations_custom_font_object",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"font_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_url",storageKey:null},e],storageKey:null}],storageKey:null},e],storageKey:null}]}}();e.exports=a}),null);
__d("CometFeedStoryFormattedBackgroundMessageRenderingStrategy_message.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryFormattedBackgroundMessageRenderingStrategy_message",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedFormattedTextRenderer_message"},{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null},{alias:null,args:null,concreteType:"TextFormatMetadata",kind:"LinkedField",name:"text_format_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"InspirationsCustomFont",kind:"LinkedField",name:"inspirations_custom_font_object",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useCometInspirationsCustomFont_customFont"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometFeedFormattedTextRenderer_metadata"}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometFeedStoryMatchDebugger_iCometStorySection"}],type:"CometFeedStoryFormattedBackgroundMessageRenderingStrategy"};e.exports=a}),null);
__d("cometHexToRgba",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=parseInt(a.substring(0,2),16)/255,c=parseInt(a.substring(2,4),16),d=parseInt(a.substring(4,6),16);a=parseInt(a.substring(6,8),16);return"rgba("+c+","+d+","+a+","+b+")"}e.exports=a}),null);
__d("useCometInspirationsCustomFont",["CometRelay","promiseDone","useCometInspirationsCustomFont_customFont.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("CometRelay").graphql;var h=b("CometRelay").useFragment,i=new Set();function a(a){a=h(g!==void 0?g:g=b("useCometInspirationsCustomFont_customFont.graphql"),a);if(a==null)return null;var c=a.font_name;a=a.font_url;if(c==null||a==null)return null;if(!i.has(c)){i.add(c);var d=typeof document.fonts==="object"&&typeof FontFace==="function";if(d&&a!=null){d=new FontFace(c,"url("+a+")");b("promiseDone")(d.load(),function(a){window.document.fonts.add(a)})}}return c}e.exports=a}),null);
__d("useCometFeedFormattedTextRenderer",["CometRelay","React","UnicodeUtils","cometHexToRgba","useCometFeedFormattedTextRenderer_message.graphql","useCometFeedFormattedTextRenderer_metadata.graphql"],(function(a,b,c,d,e,f){"use strict";var g,h,i;b("CometRelay").graphql;var j=b("CometRelay").useFragment;c=b("React");var k=c.useMemo,l=30;function m(a,b,c){var d="";switch(c){case"BOTTOM_TOP":d="to top";break;case"BL_TR":d="45deg";break;case"LEFT_RIGHT":d="to right";break;case"TL_BR":d="135deg";break;case"TR_BL":d="225deg";break;case"RIGHT_LEFT":d="to left";break;case"BR_TL":d="315deg";break;case"TOP_BOTTOM":default:d="to bottom";break}return"linear-gradient("+d+","+a+","+b+")"}function n(a){switch(a){case"normal":return"normal";case"bold":default:return"bold"}}function o(a){if(a==null||a.length===0)return l;a=(i||(i=b("UnicodeUtils"))).strlen(a);if(a>360)return 16;return a>180?24:l}function a(a,c,d){d===void 0&&(d=!1);a=j(g!==void 0?g:g=b("useCometFeedFormattedTextRenderer_message.graphql"),a);c=j(h!==void 0?h:h=b("useCometFeedFormattedTextRenderer_metadata.graphql"),c);var e=a==null?void 0:a.text;a=k(function(){return o(e)},[e]);if(c==null)return{avatarStoryTextFormatId:null,backgroundStyle:null,fontSize:a,textColor:null,textStyle:null};var f=c.avatar_story_text_format_id,i=c.background_color,l=c.background_gradient_color,p=c.background_gradient_direction,q=c.background_image,r=c.color,s=c.font_style,t=c.font_weight,u=c.portrait_background_image;c=c.text_align;var v={backgroundColor:i!=null?b("cometHexToRgba")(i):null};q=q==null?void 0:q.uri;u=u==null?void 0:u.uri;if(q!=null)d&&u!=null?v.backgroundImage="url("+u+")":v.backgroundImage="url("+q+")",v.backgroundPosition="center center",v.backgroundSize="cover";else if(l!=null&&i!=null){d=b("cometHexToRgba")(i);u=b("cometHexToRgba")(l);v.backgroundImage=m(d,u,p)}q=r!=null?b("cometHexToRgba")(r):null;i={color:q,fontSize:a+"px",fontStyle:s,fontWeight:n(t),textAlign:c};return{avatarStoryTextFormatId:f,backgroundStyle:v,fontSize:a,textColor:q,textStyle:i}}e.exports=a}),null);
__d("CometFeedStoryFormattedBackgroundMessageRenderingStrategy.react",["BaseText.react","CometEmojiTransform","CometEmoticonTransform","CometFeedARIAProperties.react","CometLineBreakTransform","CometLinkedEntityRenderer","CometRelay","CometTextWithEntitiesRelay.react","CometTrackingNodeRenderer","React","stylex","useCometFeedFormattedTextRenderer","useCometFeedStoryMatchDebugger","useCometInspirationsCustomFont","CometFeedStoryFormattedBackgroundMessageRenderingStrategy_message.graphql"],(function(a,b,c,d,e,f){"use strict";var g;c=b("CometRelay").createSuspenseFragmentContainer_DEPRECATED;b("CometRelay").graphql;var h=b("React");d=b("React");var i=d.useCallback,j=d.useContext,k=d.useMemo,l=d.useState,m=420,n=5,o=h.forwardRef(function(a,c){var d=a.expanded,e=a.onToggleExpanded,f=a.renderers,g=a.style,i=a.textWithEntities,j=a.transforms;a=babelHelpers.objectWithoutPropertiesLoose(a,["expanded","onToggleExpanded","renderers","style","textWithEntities","transforms"]);return h.jsx("div",babelHelpers["extends"]({className:"j7igg4fr dy7m38rt rqr5e5pd pvbba8z0 sfj4j7ms",style:g},a,{ref:c,children:h.jsx(b("CometTextWithEntitiesRelay.react"),{expanded:d,maxLength:m,maxLines:n,onToggleExpanded:e,renderers:f,textWithEntities:i,transforms:j,truncationStyle:"see-more",withParagraphs:!0})}))}),p=function(a){return function(b){return h.jsx("span",{className:"quwhnjym oo483o9r",style:{color:a},children:b})}};function a(a){a=a.message;b("useCometFeedStoryMatchDebugger")(a);a=a.story;var c=a==null?void 0:a.message;a=a==null?void 0:a.text_format_metadata;var d=l(!1),e=d[0],f=d[1];d=i(function(){f(function(a){return!a})},[]);var g=b("useCometFeedFormattedTextRenderer")(c,a,e),m=g.avatarStoryTextFormatId,n=g.backgroundStyle,q=g.fontSize,r=g.textColor;g=g.textStyle;var s=k(function(){return[b("CometEmoticonTransform")({size:q}),b("CometEmojiTransform")({size:q}),b("CometLineBreakTransform")]},[q]),t=k(function(){var a=[p(r),b("CometLinkedEntityRenderer"),b("CometTrackingNodeRenderer")];return{Event:a,ExternalUrl:a,Group:a,Hashtag:a,Page:a,User:a}},[r]),u=j(b("CometFeedARIAProperties.react"));a=b("useCometInspirationsCustomFont")(a==null?void 0:a.inspirations_custom_font_object);if(c==null)return null;g=babelHelpers["extends"]({},g,{fontFamily:a});return h.jsx("div",{className:"k4urcfbm","data-testid":void 0,children:h.jsxs("div",{className:"k4urcfbm l9j0dhe7 jifvfom9 j83agx80 ll8tlv6m",style:n,children:[h.jsxs("div",{"aria-hidden":!0,className:"k4urcfbm",children:[h.jsx("div",{className:m===null?"jsq31si4 bzsjyuwj":"n1ap2d1u bzsjyuwj"}),h.jsx("div",{className:"kr9hpln1",children:h.jsx(o,{expanded:e,renderers:t,style:g,textWithEntities:c,transforms:s})})]}),h.jsx("div",{className:m===null?"k4urcfbm kr520xx4 j9ispegn pmk7jnqg taijpn5t datstx6m cbu4d94t j83agx80 bp9cbjyn":"k4urcfbm kr520xx4 j9ispegn pmk7jnqg jifvfom9 datstx6m cbu4d94t j83agx80 bp9cbjyn",children:h.jsx(o,babelHelpers["extends"]({expanded:e},u.contentTargetProps,{onToggleExpanded:d,ref:u.contentTargetRef,renderers:t,style:g,textWithEntities:c,transforms:s}))}),h.jsx("div",{className:"hzruof5a opwvks06 linmgsc8 kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 rq0escxv i09qtzwb"})]})})}e.exports=c(a,{message:g!==void 0?g:g=b("CometFeedStoryFormattedBackgroundMessageRenderingStrategy_message.graphql")})}),null);